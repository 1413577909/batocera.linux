diff --git a/src/video/x11/SDL_x11events.c b/src/video/x11/SDL_x11events.c
index 2080096..c978e81 100644
--- a/src/video/x11/SDL_x11events.c
+++ b/src/video/x11/SDL_x11events.c
@@ -40,6 +40,11 @@
 
 #include <stdio.h>
 
+// if no input method server is available (ie ibus),
+// we must not use XIM functions. This is done by disabling
+// the ifdef X_HAVE_UTF8_STRING is this file
+#undef X_HAVE_UTF8_STRING
+
 /*#define DEBUG_XEVENTS*/
 
 #ifndef _NET_WM_MOVERESIZE_SIZE_TOPLEFT
